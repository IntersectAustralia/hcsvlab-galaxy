<?xml version="1.0"?>
<tool_dependency>
      <package name="Flex" version="2.5.39">
        <repository name="package_flex_2_5_39" owner="alveo" prior_installation_required="True"/>
    </package>
    <package name="jc_parser" version="1.0">
         <install version="1.0">
            <actions>
                <!-- Install flex and nltk into a virtual python env -->
                <action type="setup_virtualenv">nltk==2.0.4
                  git+git://github.com/IntersectAustralia/jcp_with_nltk_wrapper
                </action>
                <action type="shell_command">
                    export PYTHONPATH=$PYTHONPATH:$INSTALL_DIR/venv/lib/python2.7/site-packages &amp;&amp;
                    python -m nltk.downloader -d $INSTALL_DIR/venv/nltk_data all
                </action>
                <action type="set_environment">
                    <!-- Sets python pathing and NLTK_DATA variable in runtime environment -->
                    <environment_variable name="PATH" action="prepend_to">$INSTALL_DIR/venv/bin</environment_variable>
                    <environment_variable name="PYTHONPATH" action="prepend_to">$INSTALL_DIR/venv/lib/python2.7/site-packages</environment_variable>
                   <environment_variable action="set_to" name="NLTK_DATA">$INSTALL_DIR/venv/nltk_data</environment_variable>
                </action>
            </actions>
        </install>
      <readme>
        Johnson-Charniak Parser
      </readme>
   </package>
</tool_dependency>
